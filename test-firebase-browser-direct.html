<!DOCTYPE html>
<html>
<head>
    <title>Test Firebase Direct</title>
    <script type="module">
        // Import Firebase modules
        import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js';
        import { getFirestore, collection, getDocs } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js';
        
        // Firebase config
        const firebaseConfig = {
            apiKey: "AIzaSyCyUy8zFbyy0VwYVUZo9TnfDMoMU3eqAUI",
            authDomain: "tubarriope-7ed1d.firebaseapp.com",
            projectId: "tubarriope-7ed1d",
            storageBucket: "tubarriope-7ed1d.appspot.com",
            messagingSenderId: "1097392406942",
            appId: "1:1097392406942:web:aa206fa1542c74c235568f"
        };
        
        async function testFirebase() {
            try {
                console.log('üöÄ Initializing Firebase...');
                const app = initializeApp(firebaseConfig);
                console.log('‚úÖ Firebase app initialized:', app);
                
                const db = getFirestore(app);
                console.log('‚úÖ Firestore initialized:', db);
                
                console.log('üîç Querying services collection...');
                const servicesRef = collection(db, 'services');
                const snapshot = await getDocs(servicesRef);
                
                console.log('üìä Services found:', snapshot.size);
                snapshot.forEach(doc => {
                    console.log('üìÑ Service:', doc.id, doc.data());
                });
                
                document.getElementById('result').innerHTML = `
                    <h2>‚úÖ Firebase Connection Successful!</h2>
                    <p>Found ${snapshot.size} services in Firestore</p>
                    <ul>
                        ${snapshot.docs.map(doc => `<li>${doc.data().name || doc.id}</li>`).join('')}
                    </ul>
                `;
                
            } catch (error) {
                console.error('‚ùå Firebase error:', error);
                document.getElementById('result').innerHTML = `
                    <h2>‚ùå Firebase Connection Failed</h2>
                    <p>Error: ${error.message}</p>
                `;
            }
        }
        
        // Run test when page loads
        window.addEventListener('load', testFirebase);
    </script>
</head>
<body>
    <h1>Firebase Direct Connection Test</h1>
    <div id="result">Testing Firebase connection...</div>
</body>
</html>